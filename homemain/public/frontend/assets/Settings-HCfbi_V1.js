import{p as B,x as M,o as v,b as x,d as t,t as N,i as P,y as E,n as R,r as u,z as Z,s as G,A as I,B as Y,a as H,j as k,w as l,f as c,u as o,q as p,e as a,L as O,E as J,g as _,C as V,G as f,H as K,I as Q,D as W}from"./index-CBDyEeFS.js";const X={class:"block w-full"},ee={class:"ml-2 w-full"},te={class:"flex flex-col md:flex-row md:items-baseline"},se={key:0,class:"text-lg font-medium text-ink-gray-9"},oe={class:"mt-1 md:ml-2 md:mt-0"},ae={class:"mt-3 md:ml-auto md:mt-0"},re=B({__name:"Alert",props:{title:{},type:{default:"warning"}},setup($){const g=$,b=M(()=>({warning:"text-ink-gray-7 bg-surface-blue-1"})[g.type]);return(d,m)=>(v(),x("div",X,[t("div",{class:R(["flex items-start rounded-md px-4 py-3.5 text-base md:px-5",b.value])},[m[0]||(m[0]=t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{opacity:"0.8","fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 10.5C12.5523 10.5 13 10.9477 13 11.5V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V11.5C11 10.9477 11.4477 10.5 12 10.5ZM13 7.99976C13 7.44747 12.5523 6.99976 12 6.99976C11.4477 6.99976 11 7.44747 11 7.99976V8.1C11 8.65228 11.4477 9.1 12 9.1C12.5523 9.1 13 8.65228 13 8.1V7.99976Z",fill:"#318AD8"})],-1)),t("div",ee,[t("div",te,[d.title?(v(),x("h3",se,N(d.title),1)):P("",!0),t("div",oe,[E(d.$slots,"default")]),t("div",ae,[E(d.$slots,"actions")])])])],2)]))}}),le={class:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 p-4"},ne={class:"max-w-4xl mx-auto"},ie={class:"flex justify-between items-center mb-8"},de={key:0,class:"flex justify-center items-center py-16"},ue={key:2,class:"space-y-6"},ce={class:"flex items-center gap-3"},me={class:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center"},ve={class:"grid md:grid-cols-2 gap-6"},ge={class:"space-y-2"},fe={class:"px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-600"},we={class:"space-y-2"},pe={class:"px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-600"},be={class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center"},he={class:"space-y-6"},ye={class:"p-4 bg-white/30 rounded-xl border border-white/30 hover:bg-white/50 transition-all duration-200"},xe={class:"p-4 bg-white/30 rounded-xl border border-white/30 hover:bg-white/50 transition-all duration-200"},_e={class:"p-4 bg-white/30 rounded-xl border border-white/30 hover:bg-white/50 transition-all duration-200"},Pe={class:"p-4 bg-white/30 rounded-xl border border-white/30 hover:bg-white/50 transition-all duration-200"},Ce={class:"space-y-3"},ke={class:"w-10 h-10 bg-gradient-to-br from-red-500 to-orange-500 rounded-xl flex items-center justify-center"},Ve={class:"space-y-4"},Ne={class:"p-4 bg-white/30 rounded-xl border border-white/30 hover:bg-white/50 transition-all duration-200"},$e={class:"flex items-center justify-between"},De={class:"p-4 bg-white/30 rounded-xl border border-white/30 hover:bg-white/50 transition-all duration-200"},Ue={class:"space-y-4"},Se={class:"flex gap-2 justify-end pt-4"},Me={__name:"Settings",setup($){const g=u(!1),b=u(!1),d=u(!1),m=u(!0),w=u(null),h=u(null),D=u(!1),i=u({enable_notifications:!1,dark_mode:document.documentElement.classList.contains("dark"),email_notifications:!0,language:"en",two_factor_enabled:!1}),s=u({currentPassword:"",newPassword:"",confirmPassword:"",loading:!1,errors:{}}),j=Z({doctype:"User",name:G.user,auto:!1}),U=M(()=>b.value);async function C(){m.value=!0,w.value=null;try{const n=await j.reload();h.value=n,m.value=!1,D.value=!0}catch{w.value="Failed to load settings. Please try again.",m.value=!1}}function z(n){document.documentElement.classList.toggle("dark",n)}function A(){y(),z(i.value.dark_mode)}function y(){b.value=!0}async function S(){if(h.value){d.value=!0;try{console.log("Saving preferences:",i.value),await new Promise(e=>setTimeout(e,1e3)),b.value=!1;const n=document.createElement("div");n.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",n.textContent="Settings saved successfully!",document.body.appendChild(n),setTimeout(()=>n.remove(),3e3)}catch{w.value="Failed to save changes. Please try again."}finally{d.value=!1}}}function F(){w.value=null,m.value=!0,C()}function L(){return s.value.errors={},s.value.currentPassword||(s.value.errors.currentPassword="Current password is required"),s.value.newPassword?s.value.newPassword.length<6&&(s.value.errors.newPassword="Password must be at least 6 characters"):s.value.errors.newPassword="New password is required",s.value.confirmPassword?s.value.newPassword!==s.value.confirmPassword&&(s.value.errors.confirmPassword="Passwords do not match"):s.value.errors.confirmPassword="Please confirm your password",Object.keys(s.value.errors).length===0}async function T(){if(L()){s.value.loading=!0;try{await new Promise(e=>setTimeout(e,1e3));const n=document.createElement("div");n.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",n.textContent="Password changed successfully!",document.body.appendChild(n),setTimeout(()=>n.remove(),3e3),s.value={currentPassword:"",newPassword:"",confirmPassword:"",loading:!1,errors:{}},g.value=!1}catch{s.value.errors.general="Failed to change password. Please try again."}finally{s.value.loading=!1}}}return I(()=>{C()}),Y(()=>{D.value&&C()}),(n,e)=>{const q=H("router-link");return v(),x("div",le,[t("div",ne,[t("div",ie,[e[12]||(e[12]=t("div",null,[t("h1",{class:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent"}," Settings "),t("p",{class:"text-gray-600 mt-1"},"Manage your account and preferences")],-1)),U.value?(v(),k(o(p),{key:0,variant:"solid",loading:d.value,onClick:S,class:"!bg-gradient-to-r !from-green-600 !to-emerald-600 !text-white hover:!from-green-700 hover:!to-emerald-700 !shadow-lg hover:!shadow-xl transform hover:scale-105 transition-all duration-200"},{default:l(()=>e[11]||(e[11]=[c(" Save Changes ")])),_:1,__:[11]},8,["loading"])):P("",!0)]),m.value?(v(),x("div",de,[a(o(O),null,{default:l(()=>e[13]||(e[13]=[c("Loading your settings...")])),_:1,__:[13]})])):w.value?(v(),k(o(J),{key:1,message:w.value},{default:l(()=>[a(o(p),{onClick:F,variant:"outline",size:"sm"},{default:l(()=>e[14]||(e[14]=[c(" Retry ")])),_:1,__:[14]})]),_:1},8,["message"])):h.value?(v(),x("div",ue,[a(o(V),{title:"Profile Information",subtitle:"Your account details (managed via profile settings)",class:"!bg-white/70 !backdrop-blur-sm !shadow-xl !border-white/20 hover:!shadow-2xl !transition-all !duration-300"},{actions:l(()=>[t("div",ce,[a(q,{to:"/profile",class:"text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center gap-1 hover:underline"},{default:l(()=>[a(o(_),{name:"edit-2",class:"w-4 h-4"}),e[15]||(e[15]=c(" Edit Profile "))]),_:1,__:[15]}),t("div",me,[a(o(_),{name:"user",class:"w-5 h-5 text-white"})])])]),default:l(()=>[t("div",ve,[t("div",ge,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700"},"Full Name",-1)),t("div",fe,N(h.value.full_name||"Not set"),1)]),t("div",we,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700"},"Email Address",-1)),t("div",pe,N(h.value.email||"Not set"),1)])])]),_:1}),a(o(V),{title:"Preferences",subtitle:"Customize your experience",class:"!bg-white/70 !backdrop-blur-sm !shadow-xl !border-white/20 hover:!shadow-2xl !transition-all !duration-300"},{actions:l(()=>[t("div",be,[a(o(_),{name:"sliders",class:"w-5 h-5 text-white"})])]),default:l(()=>[t("div",he,[t("div",ye,[a(o(f),{type:"checkbox",label:"Enable Notifications",description:"Receive updates and alerts",modelValue:i.value.enable_notifications,"onUpdate:modelValue":e[0]||(e[0]=r=>i.value.enable_notifications=r),onChange:y},null,8,["modelValue"])]),t("div",xe,[a(o(f),{type:"checkbox",label:"Dark Mode",description:"Switch to dark theme",modelValue:i.value.dark_mode,"onUpdate:modelValue":e[1]||(e[1]=r=>i.value.dark_mode=r),onChange:A},null,8,["modelValue"])]),t("div",_e,[a(o(f),{type:"checkbox",label:"Email Notifications",description:"Receive notifications via email",modelValue:i.value.email_notifications,"onUpdate:modelValue":e[2]||(e[2]=r=>i.value.email_notifications=r),onChange:y},null,8,["modelValue"])]),t("div",Pe,[t("div",Ce,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700"},"Language",-1)),K(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>i.value.language=r),onChange:y,class:"w-full px-4 py-2 bg-white/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},e[18]||(e[18]=[t("option",{value:"en"},"English",-1),t("option",{value:"es"},"Spanish",-1),t("option",{value:"fr"},"French",-1),t("option",{value:"de"},"German",-1)]),544),[[Q,i.value.language]])])])])]),_:1}),a(o(V),{title:"Security",subtitle:"Manage your account security",class:"!bg-white/70 !backdrop-blur-sm !shadow-xl !border-white/20 hover:!shadow-2xl !transition-all !duration-300"},{actions:l(()=>[t("div",ke,[a(o(_),{name:"lock",class:"w-5 h-5 text-white"})])]),default:l(()=>[t("div",Ve,[t("div",Ne,[t("div",$e,[e[21]||(e[21]=t("div",null,[t("p",{class:"font-medium text-gray-800"},"Password"),t("p",{class:"text-sm text-gray-600"}," Update your account password ")],-1)),a(o(p),{variant:"outline",onClick:e[4]||(e[4]=r=>g.value=!0),class:"!border-2 !border-gray-200 hover:!border-indigo-300 hover:!text-indigo-600 transform hover:scale-105 transition-all duration-200"},{default:l(()=>e[20]||(e[20]=[c(" Change Password ")])),_:1,__:[20]})])]),t("div",De,[a(o(f),{type:"checkbox",label:"Two-Factor Authentication",description:"Add an extra layer of security to your account",modelValue:i.value.two_factor_enabled,"onUpdate:modelValue":e[5]||(e[5]=r=>i.value.two_factor_enabled=r),onChange:y},null,8,["modelValue"])])])]),_:1}),U.value?(v(),k(o(re),{key:0,title:"Unsaved Changes",class:"!bg-orange-50/80 !backdrop-blur-sm !border-orange-200 !shadow-lg"},{actions:l(()=>[a(o(p),{variant:"ghost",size:"sm",onClick:S,loading:d.value,class:"!text-orange-700 hover:!bg-orange-100"},{default:l(()=>e[22]||(e[22]=[c(" Save Now ")])),_:1,__:[22]},8,["loading"])]),default:l(()=>[e[23]||(e[23]=c(" You have unsaved changes that need to be saved. "))]),_:1,__:[23]})):P("",!0)])):P("",!0),a(o(W),{modelValue:g.value,"onUpdate:modelValue":e[10]||(e[10]=r=>g.value=r),options:{title:"Change Password",description:"Update your account password",size:"sm"}},{body:l(()=>[t("div",Ue,[a(o(f),{label:"Current Password",type:"password",modelValue:s.value.currentPassword,"onUpdate:modelValue":e[6]||(e[6]=r=>s.value.currentPassword=r),required:"",error:s.value.errors.currentPassword},null,8,["modelValue","error"]),a(o(f),{label:"New Password",type:"password",modelValue:s.value.newPassword,"onUpdate:modelValue":e[7]||(e[7]=r=>s.value.newPassword=r),required:"",error:s.value.errors.newPassword},null,8,["modelValue","error"]),a(o(f),{label:"Confirm New Password",type:"password",modelValue:s.value.confirmPassword,"onUpdate:modelValue":e[8]||(e[8]=r=>s.value.confirmPassword=r),required:"",error:s.value.errors.confirmPassword},null,8,["modelValue","error"]),t("div",Se,[a(o(p),{variant:"outline",onClick:e[9]||(e[9]=r=>g.value=!1)},{default:l(()=>e[24]||(e[24]=[c(" Cancel ")])),_:1,__:[24]}),a(o(p),{variant:"solid",loading:s.value.loading,onClick:T,class:"!bg-blue-600 !text-white hover:!bg-blue-700"},{default:l(()=>e[25]||(e[25]=[c(" Change Password ")])),_:1,__:[25]},8,["loading"])])])]),_:1},8,["modelValue"])])])}}};export{Me as default};
//# sourceMappingURL=Settings-HCfbi_V1.js.map
