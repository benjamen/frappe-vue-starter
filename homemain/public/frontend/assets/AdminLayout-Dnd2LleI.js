import{J as S,K as j,x as M,M as y,N as $,O as F,P as A,Q as P,R as H,S as J,r as m,T as K,U as O,s as h,A as Q,a as g,o as n,b as l,j as _,i as d,d as t,e as u,F as U,k as q,w as C,f as c,t as v,n as w,u as L}from"./index-CBDyEeFS.js";const G={faTasks:$,faCogs:F,faChartPie:A,faHome:y,faFile:P,faList:H,faDatabase:J},N=[{name:"Home",to:"/home",icon:y},{name:"Dashboard",to:"/dashboard",icon:A},{name:"Tasks",to:"/tasks",icon:$}];function W(){const k=S(),{configs:i}=j(k);return M(()=>{if(!i.value||!Array.isArray(i.value))return N;const o=i.value.filter(a=>a.published_to_custom_ui).map(a=>({name:a.displayName||a.title||a.name,to:`/form/${a.name}/list`,icon:G[a.custom_ui_icon]||y})).filter(a=>a.name);return[...N,...o]})}const X={class:"flex min-h-screen bg-gray-50 dark:bg-gray-900"},Y={class:"h-16 flex items-center justify-between px-4 border-b dark:border-gray-700"},Z={class:"p-4 space-y-2"},ee={class:"flex flex-col flex-1"},te={class:"h-16 flex items-center justify-end px-6 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"},ae={class:"flex items-center gap-2"},se={key:0,class:"relative"},oe={class:"text-xs"},re=["title"],ne={class:"text-lg"},le={class:"p-6 flex-1 bg-gray-50 dark:bg-gray-900"},de={__name:"AdminLayout",setup(k){const i=W(),o=m(!1),a=m(document.documentElement.classList.contains("dark")),r=m(!1),B=K(),E=O(),I=b=>B.path===b,f=M(()=>h.isLoggedIn),T=S();Q(()=>{T.fetchConfigs()});function z(){a.value=!a.value,a.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),window.dispatchEvent(new CustomEvent("darkModeChanged",{detail:{enabled:a.value}}))}async function D(){r.value=!1,await h.logout.submit()}return(b,e)=>{const x=g("Button"),R=g("fa-icon"),p=g("router-link"),V=g("router-view");return n(),l("div",X,[o.value?(n(),_(x,{key:0,onClick:e[0]||(e[0]=s=>o.value=!1),variant:"light","icon-left":"menu",class:"absolute top-4 left-4 z-50"})):d("",!0),t("aside",{class:w(["transition-all duration-300 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",o.value?"hidden":"block"])},[t("div",Y,[e[6]||(e[6]=t("span",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200"},"MyApp",-1)),u(x,{onClick:e[1]||(e[1]=s=>o.value=!o.value),variant:"light","icon-left":o.value?"chevron-right":"chevron-left"},null,8,["icon-left"])]),t("nav",Z,[(n(!0),l(U,null,q(L(i),s=>(n(),_(p,{key:s.name,to:s.to,class:w(["flex items-center px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",{"bg-gray-100 dark:bg-gray-700 font-medium":I(s.to)}])},{default:C(()=>[u(R,{icon:s.icon,class:"mr-3"},null,8,["icon"]),c(" "+v(s.name),1)]),_:2},1032,["to","class"]))),128))])],2),t("div",ee,[t("header",te,[t("div",ae,[f.value?(n(),l("div",se,[t("button",{onClick:e[2]||(e[2]=s=>r.value=!r.value),class:"flex items-center gap-2 px-3 py-2 text-gray-800 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-300 dark:hover:text-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors"},[e[7]||(e[7]=t("span",{class:"text-sm"},"⚙️",-1)),t("span",oe,v(r.value?"▲":"▼"),1)]),r.value?(n(),l("div",{key:0,onClick:e[3]||(e[3]=s=>r.value=!1),class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 py-1"},[u(p,{to:"/settings",class:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"},{default:C(()=>e[8]||(e[8]=[t("span",{class:"text-sm"},"⚙️",-1),c(" Settings ")])),_:1,__:[8]}),e[10]||(e[10]=t("hr",{class:"my-1 border-gray-200 dark:border-gray-700"},null,-1)),t("button",{onClick:D,class:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"},e[9]||(e[9]=[t("span",{class:"text-sm"},"🚪",-1),c(" Logout ")]))])):d("",!0)])):d("",!0),t("button",{onClick:z,class:"p-2 text-gray-800 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-300 dark:hover:text-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:a.value?"Switch to light mode":"Switch to dark mode"},[t("span",ne,v(a.value?"🌙":"☀️"),1)],8,re),f.value?d("",!0):(n(),l("button",{key:1,onClick:e[4]||(e[4]=s=>L(E).push("/account/login")),class:"ml-2 px-3 py-2 text-gray-800 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-300 dark:hover:text-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors"},e[11]||(e[11]=[t("span",{class:"text-sm"},"🔑",-1),c(" Login ")])))])]),t("main",le,[u(V)])]),r.value?(n(),l("div",{key:1,onClick:e[5]||(e[5]=s=>r.value=!1),class:"fixed inset-0 z-40"})):d("",!0)])}}};export{de as default};
//# sourceMappingURL=AdminLayout-Dnd2LleI.js.map
