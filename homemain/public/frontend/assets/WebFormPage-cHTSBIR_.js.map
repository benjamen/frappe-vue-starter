{"version":3,"file":"WebFormPage-cHTSBIR_.js","sources":["../../../../frontend/src/pages/WebFormPage.vue"],"sourcesContent":["<template>\n  <div class=\"w-full p-4 lg:p-6 xl:p-8 space-y-6 lg:space-y-8\">\n    <!-- TOP NAV & TITLE BAR -->\n    <div class=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n      <router-link\n        v-if=\"webForm?.show_list\"\n        :to=\"`/form/${name}/list`\"\n        class=\"inline-flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline transition-colors\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"h-4 w-4 flex-shrink-0\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M15 19l-7-7 7-7\"\n          />\n        </svg>\n        <span class=\"hidden sm:inline\">Back to List</span>\n      </router-link>\n\n      <div class=\"flex-1 text-center\">\n        <h1 class=\"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white\">\n          {{ webForm?.title }}\n        </h1>\n        <p class=\"mt-2 text-sm text-gray-500 dark:text-gray-400\">\n          {{ isNew ? 'Create new entry' : 'Edit existing entry' }}\n        </p>\n      </div>\n\n      <!-- Right-side spacer for symmetry on larger screens -->\n      <div class=\"hidden sm:block w-24 lg:w-32\"></div>\n    </div>\n\n    <!-- Loading State -->\n    <div v-if=\"loading\" class=\"flex items-center justify-center py-12\">\n      <div class=\"flex items-center gap-3\">\n        <div class=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\n        <span class=\"text-gray-600 dark:text-gray-400\">Loading form...</span>\n      </div>\n    </div>\n\n    <!-- Form Content -->\n    <div v-else-if=\"webForm\" class=\"bg-white dark:bg-gray-900 shadow-lg rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n      <form @submit.prevent=\"onSubmit(false)\" class=\"p-4 sm:p-6 lg:p-8 space-y-6 lg:space-y-8\">\n        <template v-for=\"(section, sIdx) in sections\" :key=\"sIdx\">\n          <!-- Section Heading -->\n          <div\n            v-if=\"section.label && section.label.trim()\"\n            class=\"border-b border-gray-200 dark:border-gray-700 pb-4\"\n          >\n            <h2 class=\"text-lg sm:text-xl font-semibold text-blue-700 dark:text-blue-300\">\n              {{ section.label }}\n            </h2>\n          </div>\n\n          <!-- Section Fields Grid -->\n          <div\n            class=\"grid gap-4 sm:gap-6 lg:gap-8\"\n            :class=\"getGridClass(section.columns.length)\"\n          >\n            <template v-for=\"(column, cIdx) in section.columns\" :key=\"cIdx\">\n              <div class=\"space-y-4 sm:space-y-6\">\n                <template v-for=\"field in column\" :key=\"field.name\">\n                  <div class=\"form-field\">\n                    <!-- Field Label (except for checkboxes) -->\n                    <label\n                      v-if=\"field.fieldtype !== 'Check'\"\n                      class=\"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\"\n                      :class=\"{ 'text-gray-400 dark:text-gray-500': field.read_only }\"\n                    >\n                      {{ field.label }}\n                      <span v-if=\"field.reqd\" class=\"text-red-500 ml-1\">*</span>\n                    </label>\n\n                    <!-- Text Input Fields -->\n                    <input\n                      v-if=\"\n                        [\n                          'Data',\n                          'Int',\n                          'Float',\n                          'Password',\n                          'Email',\n                          'Phone',\n                        ].includes(field.fieldtype)\n                      \"\n                      :type=\"\n                        field.fieldtype === 'Password'\n                          ? 'password'\n                          : field.fieldtype === 'Email'\n                          ? 'email'\n                          : field.fieldtype === 'Phone'\n                          ? 'tel'\n                          : field.fieldtype === 'Int' || field.fieldtype === 'Float'\n                          ? 'number'\n                          : 'text'\n                      \"\n                      :step=\"field.fieldtype === 'Float' ? 'any' : undefined\"\n                      class=\"form-input\"\n                      :placeholder=\"field.description || `Enter ${field.label.toLowerCase()}`\"\n                      v-model=\"formValues[field.fieldname]\"\n                      :required=\"field.reqd\"\n                      :readonly=\"field.read_only\"\n                      :autocomplete=\"\n                        field.fieldtype === 'Password' ? 'new-password' : 'off'\n                      \"\n                    />\n\n                    <!-- Select Dropdown -->\n                    <select\n                      v-else-if=\"field.fieldtype === 'Select'\"\n                      class=\"form-input\"\n                      v-model=\"formValues[field.fieldname]\"\n                      :required=\"field.reqd\"\n                      :disabled=\"field.read_only\"\n                    >\n                      <option value=\"\" disabled>Select {{ field.label }}</option>\n                      <option\n                        v-for=\"opt in field.options\n                          ? field.options.split('\\n').filter(Boolean)\n                          : []\"\n                        :key=\"opt\"\n                        :value=\"opt\"\n                      >\n                        {{ opt }}\n                      </option>\n                    </select>\n\n                    <!-- Date Input -->\n                    <input\n                      v-else-if=\"field.fieldtype === 'Date'\"\n                      type=\"date\"\n                      class=\"form-input\"\n                      v-model=\"formValues[field.fieldname]\"\n                      :required=\"field.reqd\"\n                      :readonly=\"field.read_only\"\n                    />\n\n                    <!-- Color Picker -->\n                    <div v-else-if=\"field.fieldtype === 'Color'\" class=\"flex items-center gap-3\">\n                      <input\n                        type=\"color\"\n                        class=\"h-12 w-16 rounded border border-gray-300 dark:border-gray-700 cursor-pointer disabled:cursor-not-allowed\"\n                        v-model=\"formValues[field.fieldname]\"\n                        :required=\"field.reqd\"\n                        :disabled=\"field.read_only\"\n                        :value=\"ensureColor(formValues[field.fieldname])\"\n                        @input=\"onColorInput(field.fieldname, $event.target.value)\"\n                      />\n                      <input\n                        type=\"text\"\n                        class=\"form-input flex-1\"\n                        placeholder=\"#000000\"\n                        v-model=\"formValues[field.fieldname]\"\n                        :readonly=\"field.read_only\"\n                        pattern=\"^#[0-9A-Fa-f]{6}$\"\n                      />\n                    </div>\n\n                    <!-- Link Field with Typeahead -->\n                    <div v-else-if=\"field.fieldtype === 'Link'\" class=\"relative\">\n                      <input\n                        type=\"text\"\n                        class=\"form-input\"\n                        :placeholder=\"`Search ${field.options || 'records'}...`\"\n                        v-model=\"linkInputs[field.fieldname]\"\n                        @input=\"onLinkInput(field)\"\n                        @focus=\"showLinkDropdown[field.fieldname] = true\"\n                        @blur=\"hideLinkDropdownWithDelay(field.fieldname)\"\n                        :required=\"field.reqd\"\n                        :readonly=\"field.read_only\"\n                        autocomplete=\"off\"\n                      />\n                      <!-- Dropdown for link suggestions -->\n                      <ul\n                        v-if=\"\n                          showLinkDropdown[field.fieldname] &&\n                          linkDropdown[field.fieldname]?.length\n                        \"\n                        class=\"absolute z-20 left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg rounded-lg max-h-48 overflow-y-auto\"\n                      >\n                        <li\n                          v-for=\"opt in linkDropdown[field.fieldname]\"\n                          :key=\"opt.value\"\n                          class=\"px-4 py-3 cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/30 border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors\"\n                          @mousedown.prevent=\"\n                            selectLinkValue(field.fieldname, opt)\n                          \"\n                        >\n                          <div class=\"font-medium text-gray-900 dark:text-gray-100\">\n                            {{ opt.label }}\n                          </div>\n                        </li>\n                      </ul>\n                    </div>\n\n                    <!-- Textarea Fields -->\n                    <textarea\n                      v-else-if=\"\n                        [\n                          'Text',\n                          'Small Text',\n                          'Long Text',\n                          'Text Editor',\n                        ].includes(field.fieldtype)\n                      \"\n                      class=\"form-input\"\n                      :placeholder=\"field.description || `Enter ${field.label.toLowerCase()}`\"\n                      v-model=\"formValues[field.fieldname]\"\n                      :required=\"field.reqd\"\n                      :readonly=\"field.read_only\"\n                      :rows=\"getTextareaRows(field)\"\n                    />\n\n                    <!-- Checkbox -->\n                    <div\n                      v-else-if=\"field.fieldtype === 'Check'\"\n                      class=\"flex items-start gap-3\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        v-model=\"formValues[field.fieldname]\"\n                        class=\"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                        :required=\"field.reqd\"\n                        :id=\"field.fieldname\"\n                        :disabled=\"field.read_only\"\n                      />\n                      <label\n                        :for=\"field.fieldname\"\n                        class=\"text-sm font-medium text-gray-900 dark:text-gray-100 cursor-pointer\"\n                        :class=\"{ 'text-gray-400 dark:text-gray-500': field.read_only }\"\n                      >\n                        {{ field.label }}\n                        <span v-if=\"field.reqd\" class=\"text-red-500 ml-1\">*</span>\n                      </label>\n                    </div>\n\n                    <!-- File Upload -->\n                    <div\n                      v-else-if=\"\n                        ['Attach Image', 'Attach', 'Attach File'].includes(\n                          field.fieldtype\n                        )\n                      \"\n                      class=\"space-y-2\"\n                    >\n                      <input\n                        type=\"file\"\n                        class=\"block w-full text-sm text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-700 rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-800 focus:outline-none\"\n                        @change=\"onFileChange($event, field.fieldname)\"\n                        :required=\"field.reqd\"\n                        :disabled=\"field.read_only\"\n                        :accept=\"field.fieldtype === 'Attach Image' ? 'image/*' : undefined\"\n                      />\n                      <p class=\"text-xs text-gray-500 dark:text-gray-400\">\n                        {{ field.fieldtype === 'Attach Image' ? 'Images only' : 'Any file type' }}\n                      </p>\n                    </div>\n\n                    <!-- Fallback Text Input -->\n                    <input\n                      v-else\n                      type=\"text\"\n                      class=\"form-input\"\n                      :placeholder=\"field.description || `Enter ${field.label.toLowerCase()}`\"\n                      v-model=\"formValues[field.fieldname]\"\n                      :required=\"field.reqd\"\n                      :readonly=\"field.read_only\"\n                    />\n\n                    <!-- Field Description -->\n                    <p\n                      v-if=\"field.description && field.fieldtype !== 'Check'\"\n                      class=\"mt-1 text-xs text-gray-500 dark:text-gray-400\"\n                    >\n                      {{ field.description }}\n                    </p>\n                  </div>\n                </template>\n              </div>\n            </template>\n          </div>\n        </template>\n\n        <!-- Submit and Delete Buttons -->\n        <div class=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 pt-6 border-t border-gray-200 dark:border-gray-700\">\n          <!-- Delete Button (only show when editing existing record) -->\n          <button\n            v-if=\"!isNew\"\n            type=\"button\"\n            @click=\"onDelete\"\n            :disabled=\"loading\"\n            class=\"inline-flex items-center justify-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-medium text-sm rounded-lg shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:cursor-not-allowed\"\n          >\n            <svg class=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16\" />\n            </svg>\n            Delete\n          </button>\n          <div v-else class=\"hidden sm:block\"></div>\n\n          <!-- Save Buttons -->\n          <div class=\"flex flex-col sm:flex-row gap-3 w-full sm:w-auto\">\n            <!-- Save Button (stays on page) -->\n            <button\n              type=\"submit\"\n              :disabled=\"loading\"\n              class=\"inline-flex items-center justify-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white font-semibold text-base rounded-lg shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:cursor-not-allowed w-full sm:w-auto\"\n            >\n              <svg v-if=\"loading\" class=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              <svg v-else class=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n              </svg>\n              {{ loading ? 'Saving...' : 'Save' }}\n            </button>\n\n            <!-- Save and Close Button -->\n            <button\n              type=\"button\"\n              @click=\"onSubmit(true)\"\n              :disabled=\"loading\"\n              class=\"inline-flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold text-base rounded-lg shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed w-full sm:w-auto\"\n            >\n              <svg v-if=\"loading\" class=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              <svg v-else class=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n              </svg>\n              {{ loading ? 'Saving...' : (isNew ? 'Create & Close' : 'Save & Close') }}\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n\n    <!-- Error State -->\n    <div v-else class=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center\">\n      <div class=\"flex items-center justify-center space-x-2\">\n        <svg class=\"h-6 w-6 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n        </svg>\n        <span class=\"text-red-800 dark:text-red-400 font-medium\">Form not found</span>\n      </div>\n      <p class=\"text-red-600 dark:text-red-500 text-sm mt-2\">\n        The requested form could not be loaded. Please check the form name and try again.\n      </p>\n    </div>\n\n    <!-- Debug Section -->\n    <details class=\"bg-gray-50 dark:bg-gray-800 rounded-lg\">\n      <summary class=\"cursor-pointer p-4 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors\">\n        <span class=\"font-medium\">Debug Information</span>\n        <span class=\"text-xs ml-2\">(Click to expand)</span>\n      </summary>\n      <div class=\"px-4 pb-4 space-y-4\">\n        <div>\n          <h4 class=\"font-medium text-gray-800 dark:text-gray-200 mb-2\">WebForm JSON</h4>\n          <pre class=\"bg-gray-900 text-gray-100 rounded-lg p-4 text-xs overflow-x-auto border\">{{ JSON.stringify(webForm, null, 2) }}</pre>\n        </div>\n        <div>\n          <h4 class=\"font-medium text-gray-800 dark:text-gray-200 mb-2\">Document Values</h4>\n          <pre class=\"bg-gray-900 text-gray-100 rounded-lg p-4 text-xs overflow-x-auto border\">{{ JSON.stringify(docValues, null, 2) }}</pre>\n        </div>\n        <div>\n          <h4 class=\"font-medium text-gray-800 dark:text-gray-200 mb-2\">Form Values</h4>\n          <pre class=\"bg-gray-900 text-gray-100 rounded-lg p-4 text-xs overflow-x-auto border\">{{ JSON.stringify(formValues, null, 2) }}</pre>\n        </div>\n      </div>\n    </details>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, onMounted, watch } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { call } from \"frappe-ui\";\n\nconst route = useRoute();\nconst router = useRouter();\nconst name = ref(route.params.name);\n\nconst webForm = ref(null);\nconst loading = ref(false);\nconst formValues = reactive({});\nconst docValues = ref(null);\n\nconst docName = computed(() => route.query.doc || null);\nconst isNew = computed(() => route.query.new == 1 || !docName.value);\n\nconst linkInputs = reactive({});\nconst linkDropdown = reactive({});\nconst showLinkDropdown = reactive({});\nlet linkTimeouts = {};\n\n// Dynamic grid class based on column count\nfunction getGridClass(columnCount) {\n  if (columnCount === 1) return 'grid-cols-1';\n  if (columnCount === 2) return 'grid-cols-1 md:grid-cols-2';\n  if (columnCount === 3) return 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3';\n  if (columnCount === 4) return 'grid-cols-1 md:grid-cols-2 lg:grid-cols-4';\n  return `grid-cols-1 md:grid-cols-2 lg:grid-cols-${Math.min(columnCount, 6)}`;\n}\n\n// Get textarea rows based on field type and description\nfunction getTextareaRows(field) {\n  // Check if field label or description contains keywords that suggest it's a description field\n  const isDescriptionField = field.label.toLowerCase().includes('description') ||\n                             field.description?.toLowerCase().includes('description') ||\n                             field.fieldname.toLowerCase().includes('description');\n\n  if (field.fieldtype === 'Long Text' || field.fieldtype === 'Text Editor') {\n    return isDescriptionField ? 10 : 8;\n  } else if (field.fieldtype === 'Small Text') {\n    return isDescriptionField ? 5 : 3;\n  } else if (field.fieldtype === 'Text') {\n    return isDescriptionField ? 8 : 5;\n  }\n  return 5;\n}\n\nfunction parseSections(fields) {\n  const sections = [];\n  let currentSection = { label: \"\", columns: [[]] };\n  let currentColumn = currentSection.columns[0];\n\n  fields.forEach((field) => {\n    if (field.fieldtype === \"Section Break\") {\n      if (\n        currentSection.columns.some((col) => col.length) ||\n        (currentSection.label && currentSection.label.trim())\n      ) {\n        sections.push(currentSection);\n      }\n      currentSection = { label: field.label || \"\", columns: [[]] };\n      currentColumn = currentSection.columns[0];\n    } else if (field.fieldtype === \"Column Break\") {\n      currentColumn = [];\n      currentSection.columns.push(currentColumn);\n    } else if (field.fieldtype === \"Page Break\") {\n      // Optional: handle multi-page here\n    } else {\n      currentColumn.push(field);\n    }\n  });\n\n  if (\n    currentSection.columns.some((col) => col.length) ||\n    (currentSection.label && currentSection.label.trim())\n  ) {\n    sections.push(currentSection);\n  }\n\n  return sections;\n}\n\nconst sections = computed(() =>\n  parseSections(webForm.value?.web_form_fields || [])\n);\n\n// Ensure valid color hex\nfunction ensureColor(value) {\n  return /^#[0-9a-fA-F]{6}$/.test(value) ? value : \"#000000\";\n}\n\nfunction onColorInput(fieldname, val) {\n  if (/^#[0-9a-fA-F]{6}$/.test(val)) {\n    formValues[fieldname] = val;\n  }\n}\n\n// Typeahead for Link field\nfunction onLinkInput(field) {\n  const search = linkInputs[field.fieldname];\n  if (!search || search.length < 1 || field.read_only) {\n    linkDropdown[field.fieldname] = [];\n    return;\n  }\n  if (linkTimeouts[field.fieldname])\n    clearTimeout(linkTimeouts[field.fieldname]);\n  linkTimeouts[field.fieldname] = setTimeout(async () => {\n    try {\n      const res = await call(\"frappe.client.get_list\", {\n        doctype: field.options,\n        fields: [\"name\"],\n        filters: [[\"name\", \"like\", `%${search}%`]],\n        limit_page_length: 10,\n      });\n      linkDropdown[field.fieldname] = (res?.message || res || []).map((r) => ({\n        value: r.name,\n        label: r.name,\n      }));\n      showLinkDropdown[field.fieldname] = true;\n    } catch (err) {\n      linkDropdown[field.fieldname] = [];\n      showLinkDropdown[field.fieldname] = false;\n    }\n  }, 180);\n}\n\nfunction selectLinkValue(fieldname, opt) {\n  linkInputs[fieldname] = opt.label;\n  formValues[fieldname] = opt.value;\n  showLinkDropdown[fieldname] = false;\n}\n\nfunction hideLinkDropdownWithDelay(fieldname) {\n  setTimeout(() => {\n    showLinkDropdown[fieldname] = false;\n  }, 160);\n}\n\nasync function fetchWebForm() {\n  loading.value = true;\n  webForm.value = null;\n  docValues.value = null;\n  try {\n    const result = await call(\"frappe.client.get\", {\n      doctype: \"Web Form\",\n      name: name.value,\n    });\n    webForm.value = result?.message || result || null;\n\n    if (!isNew.value && docName.value) {\n      await fetchDoc();\n    }\n\n    if (webForm.value && Array.isArray(webForm.value.web_form_fields)) {\n      webForm.value.web_form_fields.forEach((field) => {\n        if (field.fieldname) {\n          let val =\n            (!isNew.value &&\n              docValues.value &&\n              docValues.value[field.fieldname]) ||\n            \"\";\n          formValues[field.fieldname] =\n            field.fieldtype === \"Color\" ? ensureColor(val) : val;\n          if (field.fieldtype === \"Link\") linkInputs[field.fieldname] = val;\n        }\n      });\n    }\n  } catch (err) {\n    console.error(\"[WebFormPage] Error fetching webform/meta/doc:\", err);\n    webForm.value = null;\n  }\n  loading.value = false;\n}\n\nasync function fetchDoc() {\n  try {\n    const docRes = await call(\"frappe.client.get\", {\n      doctype: webForm.value.doc_type,\n      name: docName.value,\n    });\n    docValues.value = docRes?.message || docRes || null;\n  } catch (err) {\n    docValues.value = null;\n    console.error(\"[WebFormPage] Error fetching doc:\", err);\n  }\n}\n\nfunction onFileChange(event, fieldname) {\n  const file = event.target.files[0];\n  formValues[fieldname] = file;\n}\n\nasync function onDelete() {\n  if (!confirm('Are you sure you want to delete this record? This action cannot be undone.')) {\n    return;\n  }\n\n  try {\n    loading.value = true;\n    await call(\"frappe.client.delete\", {\n      doctype: webForm.value.doc_type,\n      name: docName.value,\n    });\n\n    // Show success message\n    const successDiv = document.createElement('div');\n    successDiv.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';\n    successDiv.textContent = 'Record deleted successfully!';\n    document.body.appendChild(successDiv);\n    setTimeout(() => successDiv.remove(), 3000);\n\n    router.push(`/form/${name.value}/list`);\n  } catch (err) {\n    // Show error message\n    const errorDiv = document.createElement('div');\n    errorDiv.className = 'fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';\n    errorDiv.textContent = 'Failed to delete: ' + (err.message || err);\n    document.body.appendChild(errorDiv);\n    setTimeout(() => errorDiv.remove(), 5000);\n\n    console.error(\"[WebFormPage] Error deleting record:\", err);\n  } finally {\n    loading.value = false;\n  }\n}\n\nasync function onSubmit() {\n  try {\n    loading.value = true;\n    if (isNew.value) {\n      const res = await call(\"frappe.client.insert\", {\n        doc: {\n          doctype: webForm.value.doc_type,\n          ...formValues,\n        },\n      });\n      // Show success message\n      const successDiv = document.createElement('div');\n      successDiv.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';\n      successDiv.textContent = 'Record created successfully!';\n      document.body.appendChild(successDiv);\n      setTimeout(() => successDiv.remove(), 3000);\n\n      router.push(`/form/${name.value}/list`);\n    } else {\n      const updatedDoc = { ...docValues.value, ...formValues };\n      await call(\"frappe.client.save\", { doc: updatedDoc });\n\n      // Show success message\n      const successDiv = document.createElement('div');\n      successDiv.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';\n      successDiv.textContent = 'Record updated successfully!';\n      document.body.appendChild(successDiv);\n      setTimeout(() => successDiv.remove(), 3000);\n\n      await fetchDoc();\n    }\n  } catch (err) {\n    // Show error message\n    const errorDiv = document.createElement('div');\n    errorDiv.className = 'fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';\n    errorDiv.textContent = 'Failed to save: ' + (err.message || err);\n    document.body.appendChild(errorDiv);\n    setTimeout(() => errorDiv.remove(), 5000);\n\n    console.error(\"[WebFormPage] Error saving form:\", err);\n  } finally {\n    loading.value = false;\n  }\n}\n\nonMounted(fetchWebForm);\nwatch(\n  () => [route.params.name, route.query.doc, route.query.new],\n  () => {\n    name.value = route.params.name;\n    fetchWebForm();\n  }\n);\n</script>\n\n<style scoped>\n.form-input {\n  @apply block w-full px-4 py-3 text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-600 dark:focus:border-blue-600 transition-colors disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:text-gray-500 read-only:bg-gray-50 dark:read-only:bg-gray-800;\n}\n\n.form-field {\n  @apply space-y-1;\n}\n\n/* Custom scrollbar for dropdowns */\n.overflow-y-auto::-webkit-scrollbar {\n  width: 6px;\n}\n\n.overflow-y-auto::-webkit-scrollbar-track {\n  @apply bg-gray-100 dark:bg-gray-700 rounded;\n}\n\n.overflow-y-auto::-webkit-scrollbar-thumb {\n  @apply bg-gray-300 dark:bg-gray-600 rounded;\n}\n\n.overflow-y-auto::-webkit-scrollbar-thumb:hover {\n  @apply bg-gray-400 dark:bg-gray-500;\n}\n</style>\n"],"names":["route","useRoute","router","useRouter","name","ref","webForm","loading","formValues","reactive","docValues","docName","computed","isNew","linkInputs","linkDropdown","showLinkDropdown","linkTimeouts","getGridClass","columnCount","getTextareaRows","field","isDescriptionField","parseSections","fields","sections","currentSection","currentColumn","col","ensureColor","value","onColorInput","fieldname","val","onLinkInput","search","res","call","r","selectLinkValue","opt","hideLinkDropdownWithDelay","fetchWebForm","result","fetchDoc","err","docRes","onFileChange","event","file","onDelete","successDiv","errorDiv","onSubmit","updatedDoc","onMounted","watch","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createBlock","_component_router_link","_cache","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","section","sIdx","_hoisted_8","_hoisted_9","_normalizeClass","column","cIdx","_hoisted_10","$event","_hoisted_13","_hoisted_14","_hoisted_16","_hoisted_19","_hoisted_21","_withModifiers","_hoisted_23","_hoisted_25","_hoisted_28","_hoisted_29","_hoisted_31","_hoisted_33","_hoisted_34","_hoisted_36","_hoisted_37","_hoisted_39","_hoisted_40","_createTextVNode","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49"],"mappings":"spGAoYA,MAAMA,EAAQC,EAAU,EAClBC,EAASC,GAAW,EACpBC,EAAOC,EAAIL,EAAM,OAAO,IAAI,EAE5BM,EAAUD,EAAI,IAAI,EAClBE,EAAUF,EAAI,EAAK,EACnBG,EAAaC,EAAS,EAAE,EACxBC,EAAYL,EAAI,IAAI,EAEpBM,EAAUC,EAAS,IAAMZ,EAAM,MAAM,KAAO,IAAI,EAChDa,EAAQD,EAAS,IAAMZ,EAAM,MAAM,KAAO,GAAK,CAACW,EAAQ,KAAK,EAE7DG,EAAaL,EAAS,EAAE,EACxBM,EAAeN,EAAS,EAAE,EAC1BO,EAAmBP,EAAS,EAAE,EACpC,IAAIQ,EAAe,CAAE,EAGrB,SAASC,EAAaC,EAAa,CACjC,OAAIA,IAAgB,EAAU,cAC1BA,IAAgB,EAAU,6BAC1BA,IAAgB,EAAU,4CAC1BA,IAAgB,EAAU,4CACvB,2CAA2C,KAAK,IAAIA,EAAa,CAAC,CAAC,EAC5E,CAGA,SAASC,EAAgBC,EAAO,CAE9B,MAAMC,EAAqBD,EAAM,MAAM,YAAa,EAAC,SAAS,aAAa,GAChDA,EAAM,aAAa,cAAc,SAAS,aAAa,GACvDA,EAAM,UAAU,cAAc,SAAS,aAAa,EAE/E,OAAIA,EAAM,YAAc,aAAeA,EAAM,YAAc,cAClDC,EAAqB,GAAK,EACxBD,EAAM,YAAc,aACtBC,EAAqB,EAAI,EACvBD,EAAM,YAAc,QACtBC,EAAqB,EAEvB,CACT,CAEA,SAASC,EAAcC,EAAQ,CAC7B,MAAMC,EAAW,CAAE,EACnB,IAAIC,EAAiB,CAAE,MAAO,GAAI,QAAS,CAAC,CAAA,CAAE,CAAG,EAC7CC,EAAgBD,EAAe,QAAQ,CAAC,EAE5C,OAAAF,EAAO,QAASH,GAAU,CACpBA,EAAM,YAAc,kBAEpBK,EAAe,QAAQ,KAAME,GAAQA,EAAI,MAAM,GAC9CF,EAAe,OAASA,EAAe,MAAM,KAAM,IAEpDD,EAAS,KAAKC,CAAc,EAE9BA,EAAiB,CAAE,MAAOL,EAAM,OAAS,GAAI,QAAS,CAAC,CAAA,CAAE,CAAG,EAC5DM,EAAgBD,EAAe,QAAQ,CAAC,GAC/BL,EAAM,YAAc,gBAC7BM,EAAgB,CAAE,EAClBD,EAAe,QAAQ,KAAKC,CAAa,GAChCN,EAAM,YAAc,cAG7BM,EAAc,KAAKN,CAAK,CAE9B,CAAG,GAGCK,EAAe,QAAQ,KAAME,GAAQA,EAAI,MAAM,GAC9CF,EAAe,OAASA,EAAe,MAAM,KAAM,IAEpDD,EAAS,KAAKC,CAAc,EAGvBD,CACT,CAEA,MAAMA,EAAWb,EAAS,IACxBW,EAAcjB,EAAQ,OAAO,iBAAmB,CAAE,CAAA,CACpD,EAGA,SAASuB,EAAYC,EAAO,CAC1B,MAAO,oBAAoB,KAAKA,CAAK,EAAIA,EAAQ,SACnD,CAEA,SAASC,EAAaC,EAAWC,EAAK,CAChC,oBAAoB,KAAKA,CAAG,IAC9BzB,EAAWwB,CAAS,EAAIC,EAE5B,CAGA,SAASC,EAAYb,EAAO,CAC1B,MAAMc,EAASrB,EAAWO,EAAM,SAAS,EACzC,GAAI,CAACc,GAAUA,EAAO,OAAS,GAAKd,EAAM,UAAW,CACnDN,EAAaM,EAAM,SAAS,EAAI,CAAE,EAClC,MACJ,CACMJ,EAAaI,EAAM,SAAS,GAC9B,aAAaJ,EAAaI,EAAM,SAAS,CAAC,EAC5CJ,EAAaI,EAAM,SAAS,EAAI,WAAW,SAAY,CACrD,GAAI,CACF,MAAMe,EAAM,MAAMC,EAAK,yBAA0B,CAC/C,QAAShB,EAAM,QACf,OAAQ,CAAC,MAAM,EACf,QAAS,CAAC,CAAC,OAAQ,OAAQ,IAAIc,CAAM,GAAG,CAAC,EACzC,kBAAmB,EAC3B,CAAO,EACDpB,EAAaM,EAAM,SAAS,GAAKe,GAAK,SAAWA,GAAO,CAAE,GAAE,IAAKE,IAAO,CACtE,MAAOA,EAAE,KACT,MAAOA,EAAE,IACjB,EAAQ,EACFtB,EAAiBK,EAAM,SAAS,EAAI,EACrC,MAAa,CACZN,EAAaM,EAAM,SAAS,EAAI,CAAE,EAClCL,EAAiBK,EAAM,SAAS,EAAI,EAC1C,CACG,EAAE,GAAG,CACR,CAEA,SAASkB,EAAgBP,EAAWQ,EAAK,CACvC1B,EAAWkB,CAAS,EAAIQ,EAAI,MAC5BhC,EAAWwB,CAAS,EAAIQ,EAAI,MAC5BxB,EAAiBgB,CAAS,EAAI,EAChC,CAEA,SAASS,EAA0BT,EAAW,CAC5C,WAAW,IAAM,CACfhB,EAAiBgB,CAAS,EAAI,EAC/B,EAAE,GAAG,CACR,CAEA,eAAeU,GAAe,CAC5BnC,EAAQ,MAAQ,GAChBD,EAAQ,MAAQ,KAChBI,EAAU,MAAQ,KAClB,GAAI,CACF,MAAMiC,EAAS,MAAMN,EAAK,oBAAqB,CAC7C,QAAS,WACT,KAAMjC,EAAK,KACjB,CAAK,EACDE,EAAQ,MAAQqC,GAAQ,SAAWA,GAAU,KAEzC,CAAC9B,EAAM,OAASF,EAAQ,OAC1B,MAAMiC,EAAU,EAGdtC,EAAQ,OAAS,MAAM,QAAQA,EAAQ,MAAM,eAAe,GAC9DA,EAAQ,MAAM,gBAAgB,QAASe,GAAU,CAC/C,GAAIA,EAAM,UAAW,CACnB,IAAIY,EACD,CAACpB,EAAM,OACNH,EAAU,OACVA,EAAU,MAAMW,EAAM,SAAS,GACjC,GACFb,EAAWa,EAAM,SAAS,EACxBA,EAAM,YAAc,QAAUQ,EAAYI,CAAG,EAAIA,EAC/CZ,EAAM,YAAc,SAAQP,EAAWO,EAAM,SAAS,EAAIY,EACxE,CACA,CAAO,CAEJ,OAAQY,EAAK,CACZ,QAAQ,MAAM,iDAAkDA,CAAG,EACnEvC,EAAQ,MAAQ,IACpB,CACEC,EAAQ,MAAQ,EAClB,CAEA,eAAeqC,GAAW,CACxB,GAAI,CACF,MAAME,EAAS,MAAMT,EAAK,oBAAqB,CAC7C,QAAS/B,EAAQ,MAAM,SACvB,KAAMK,EAAQ,KACpB,CAAK,EACDD,EAAU,MAAQoC,GAAQ,SAAWA,GAAU,IAChD,OAAQD,EAAK,CACZnC,EAAU,MAAQ,KAClB,QAAQ,MAAM,oCAAqCmC,CAAG,CAC1D,CACA,CAEA,SAASE,EAAaC,EAAOhB,EAAW,CACtC,MAAMiB,EAAOD,EAAM,OAAO,MAAM,CAAC,EACjCxC,EAAWwB,CAAS,EAAIiB,CAC1B,CAEA,eAAeC,GAAW,CACxB,GAAK,QAAQ,4EAA4E,EAIzF,GAAI,CACF3C,EAAQ,MAAQ,GAChB,MAAM8B,EAAK,uBAAwB,CACjC,QAAS/B,EAAQ,MAAM,SACvB,KAAMK,EAAQ,KACpB,CAAK,EAGD,MAAMwC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAY,kFACvBA,EAAW,YAAc,+BACzB,SAAS,KAAK,YAAYA,CAAU,EACpC,WAAW,IAAMA,EAAW,OAAM,EAAI,GAAI,EAE1CjD,EAAO,KAAK,SAASE,EAAK,KAAK,OAAO,CACvC,OAAQyC,EAAK,CAEZ,MAAMO,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAY,gFACrBA,EAAS,YAAc,sBAAwBP,EAAI,SAAWA,GAC9D,SAAS,KAAK,YAAYO,CAAQ,EAClC,WAAW,IAAMA,EAAS,OAAM,EAAI,GAAI,EAExC,QAAQ,MAAM,uCAAwCP,CAAG,CAC7D,QAAY,CACRtC,EAAQ,MAAQ,EACpB,CACA,CAEA,eAAe8C,GAAW,CACxB,GAAI,CAEF,GADA9C,EAAQ,MAAQ,GACZM,EAAM,MAAO,CACf,MAAMuB,EAAM,MAAMC,EAAK,uBAAwB,CAC7C,IAAK,CACH,QAAS/B,EAAQ,MAAM,SACvB,GAAGE,CACJ,CACT,CAAO,EAEK2C,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAY,kFACvBA,EAAW,YAAc,+BACzB,SAAS,KAAK,YAAYA,CAAU,EACpC,WAAW,IAAMA,EAAW,OAAM,EAAI,GAAI,EAE1CjD,EAAO,KAAK,SAASE,EAAK,KAAK,OAAO,CAC5C,KAAW,CACL,MAAMkD,EAAa,CAAE,GAAG5C,EAAU,MAAO,GAAGF,CAAY,EACxD,MAAM6B,EAAK,qBAAsB,CAAE,IAAKiB,CAAU,CAAE,EAGpD,MAAMH,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAY,kFACvBA,EAAW,YAAc,+BACzB,SAAS,KAAK,YAAYA,CAAU,EACpC,WAAW,IAAMA,EAAW,OAAM,EAAI,GAAI,EAE1C,MAAMP,EAAU,CACtB,CACG,OAAQC,EAAK,CAEZ,MAAMO,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAY,gFACrBA,EAAS,YAAc,oBAAsBP,EAAI,SAAWA,GAC5D,SAAS,KAAK,YAAYO,CAAQ,EAClC,WAAW,IAAMA,EAAS,OAAM,EAAI,GAAI,EAExC,QAAQ,MAAM,mCAAoCP,CAAG,CACzD,QAAY,CACRtC,EAAQ,MAAQ,EACpB,CACA,CAEA,OAAAgD,GAAUb,CAAY,EACtBc,GACE,IAAM,CAACxD,EAAM,OAAO,KAAMA,EAAM,MAAM,IAAKA,EAAM,MAAM,GAAG,EAC1D,IAAM,CACJI,EAAK,MAAQJ,EAAM,OAAO,KAC1B0C,EAAc,CAClB,CACA,oCArpBE,OAAAe,EAAA,EAAAC,EA4XM,MA5XNC,GA4XM,CA1XJC,EAkCM,MAlCNC,GAkCM,CAhCIvD,EAAA,OAAS,eADjBwD,GAoBcC,EAAA,OAlBX,YAAa3D,EAAI,KAAA,QAClB,MAAM,sIAEN,IAaM4D,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAbNJ,EAaM,MAAA,CAZJ,MAAM,6BACN,MAAM,wBACN,KAAK,OACL,QAAQ,YACR,OAAO,iBAEPA,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,yBAGNA,EAAkD,OAA5C,CAAA,MAAM,oBAAmB,eAAY,EAAA,qCAG7CA,EAOM,MAPNK,GAOM,CANJL,EAEK,KAFLM,GACKC,EAAA7D,EAAA,OAAS,KAAK,EAAA,CAAA,EAEnBsD,EAEI,IAFJQ,GAEID,EADCtD,EAAK,MAAA,mBAAA,qBAAA,EAAA,CAAA,gBAKZ+C,EAAgD,MAAA,CAA3C,MAAM,8BAA8B,EAAA,KAAA,EAAA,KAIhCrD,EAAO,OAAlBkD,EAAA,EAAAC,EAKM,MALNW,GAKML,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAJJJ,EAGM,MAAA,CAHD,MAAM,yBAAyB,EAAA,CAClCA,EAAgF,MAAA,CAA3E,MAAM,8DAA8D,CAAA,EACzEA,EAAqE,OAA/D,CAAA,MAAM,oCAAmC,iBAAe,WAKlDtD,EAAO,OAAvBmD,IAAAC,EAySM,MAzSNY,GAySM,CAxSJV,EAuSO,OAAA,CAvSA,0BAAgBP,EAAQ,EAAA,CAAA,SAAA,CAAA,GAAS,MAAM,8CAC5CI,EAAA,EAAA,EAAAC,EA+OWa,EA/OyB,KAAAC,EAAA/C,EAAA,MAAlB,CAAAgD,EAASC,kBAAyBA,GAAI,CAG9CD,EAAQ,OAASA,EAAQ,MAAM,KAAI,GAD3ChB,IAAAC,EAOM,MAPNiB,GAOM,CAHJf,EAEK,KAFLgB,GACKT,EAAAM,EAAQ,KAAK,EAAA,CAAA,cAKpBb,EAkOM,MAAA,CAjOJ,MAAKiB,EAAA,CAAC,+BACE3D,EAAauD,EAAQ,QAAQ,MAAM,CAAA,CAAA,KAE3ChB,EAAA,EAAA,EAAAC,EA6NWa,SA7NwBE,EAAQ,QAAzB,CAAAK,EAAQC,SACxBrB,EA2NM,MAAA,KA5NkDqB,EACnD,MAAM,kCACTrB,EAyNWa,EAAA,KAAAC,EAzNeM,EAATzD,QACfqC,EAuNM,MAAA,CAxNgC,IAAArC,EAAM,KACvC,MAAM,eAGDA,EAAM,YAAS,aADvBqC,EAOQ,QAAA,OALN,MAAMmB,EAAA,CAAA,kEACwC,CAAA,mCAAAxD,EAAM,UAAS,CAAA,QAE1DA,EAAM,KAAK,EAAG,IACjB,CAAA,EAAYA,EAAM,UAAlBqC,EAA0D,OAA1DsB,GAAkD,GAAC,4EAK0N,SAAS3D,EAAM,SAAS,SADvSqC,EA+BE,QAAA,OApBC,KAA+BrC,EAAM,YAAS,sBAAmFA,EAAM,YAAS,gBAA6EA,EAAM,YAAS,cAA2EA,EAAM,YAAuB,OAAAA,EAAM,YAAS,wBAWnW,KAAMA,EAAM,0BAAgC,OAC7C,MAAM,aACL,YAAaA,EAAM,sBAAwBA,EAAM,MAAM,YAAW,CAAA,4BAC1Db,EAAWa,EAAM,SAAS,EAAA4D,EAClC,SAAU5D,EAAM,KAChB,SAAUA,EAAM,UAChB,aAAuCA,EAAM,YAAS,WAAA,eAAA,wBAH9Cb,EAAWa,EAAM,SAAS,CAAA,IAUxBA,EAAM,YAAS,gBAD5BqC,EAiBS,SAAA,OAfP,MAAM,sCACGlD,EAAWa,EAAM,SAAS,EAAA4D,EAClC,SAAU5D,EAAM,KAChB,SAAUA,EAAM,YAEjBuC,EAA2D,SAA3DsB,GAA0B,UAAUf,EAAA9C,EAAM,KAAK,EAAA,CAAA,SAC/CqC,EAQSa,EAAA,KAAAC,EAPOnD,EAAM,QAAoCA,EAAM,QAAQ,MAAY;AAAA,CAAA,EAAA,OAAO,OAAO,KAAzFmB,QADTkB,EAQS,SAAA,CAJN,IAAKlB,EACL,MAAOA,KAELA,CAAG,EAAA,EAAA2C,EAAA,uBAZC3E,EAAWa,EAAM,SAAS,CAAA,IAkBxBA,EAAM,YAAS,cAD5BqC,EAOE,QAAA,OALA,KAAK,OACL,MAAM,sCACGlD,EAAWa,EAAM,SAAS,EAAA4D,EAClC,SAAU5D,EAAM,KAChB,SAAUA,EAAM,2BAFRb,EAAWa,EAAM,SAAS,CAAA,IAMrBA,EAAM,YAAS,SAA/BoC,IAAAC,EAkBM,MAlBN0B,GAkBM,GAjBJxB,EAQE,QAAA,CAPA,KAAK,QACL,MAAM,oIACGpD,EAAWa,EAAM,SAAS,EAAA4D,EAClC,SAAU5D,EAAM,KAChB,SAAUA,EAAM,UAChB,MAAOQ,EAAYrB,EAAWa,EAAM,SAAS,CAAA,EAC7C,QAAK4D,GAAElD,EAAaV,EAAM,UAAW4D,EAAO,OAAO,KAAK,mBAJhDzE,EAAWa,EAAM,SAAS,CAAA,MAMrCuC,EAOE,QAAA,CANA,KAAK,OACL,MAAM,oBACN,YAAY,mCACHpD,EAAWa,EAAM,SAAS,EAAA4D,EAClC,SAAU5D,EAAM,UACjB,QAAQ,oCAFCb,EAAWa,EAAM,SAAS,CAAA,OAOvBA,EAAM,YAAS,QAA/BoC,IAAAC,EAmCM,MAnCN2B,GAmCM,GAlCJzB,EAWE,QAAA,CAVA,KAAK,OACL,MAAM,aACL,YAAW,UAAYvC,EAAM,SAAO,SAAA,+BAC5BP,EAAWO,EAAM,SAAS,EAAA4D,EAClC,QAAKA,GAAE/C,EAAYb,CAAK,EACxB,QAAO4D,GAAAjE,EAAiBK,EAAM,SAAS,EAAA,GACvC,OAAM4D,GAAAxC,EAA0BpB,EAAM,SAAS,EAC/C,SAAUA,EAAM,KAChB,SAAUA,EAAM,UACjB,aAAa,uBANJP,EAAWO,EAAM,SAAS,CAAA,IAUFL,EAAiBK,EAAM,SAAS,GAA+BN,EAAaM,EAAM,SAAS,GAAG,QADjIoC,IAAAC,EAoBK,KApBL4B,GAoBK,EAZH7B,EAAA,EAAA,EAAAC,EAWKa,SAVWxD,EAAaM,EAAM,SAAS,EAAnCmB,QADTkB,EAWK,KAAA,CATF,IAAKlB,EAAI,MACV,MAAM,sJACL,YAAS+C,EAAAN,IAAuC1C,EAAgBlB,EAAM,UAAWmB,CAAG,iBAIrFoB,EAEM,MAFN4B,GACKrB,EAAA3B,EAAI,KAAK,EAAA,CAAA,iFAQwM,SAASnB,EAAM,SAAS,SADpPqC,EAeE,WAAA,OANA,MAAM,aACL,YAAarC,EAAM,sBAAwBA,EAAM,MAAM,YAAW,CAAA,4BAC1Db,EAAWa,EAAM,SAAS,EAAA4D,EAClC,SAAU5D,EAAM,KAChB,SAAUA,EAAM,UAChB,KAAMD,EAAgBC,CAAK,mBAHnBb,EAAWa,EAAM,SAAS,CAAA,IAQxBA,EAAM,YAAS,SAD5BoC,IAAAC,EAoBM,MApBN+B,GAoBM,GAhBJ7B,EAOE,QAAA,CANA,KAAK,oCACIpD,EAAWa,EAAM,SAAS,EAAA4D,EACnC,MAAM,yEACL,SAAU5D,EAAM,KAChB,GAAIA,EAAM,UACV,SAAUA,EAAM,2BAJRb,EAAWa,EAAM,SAAS,CAAA,IAMrCuC,EAOQ,QAAA,CANL,IAAKvC,EAAM,UACZ,MAAMwD,EAAA,CAAA,sEACwC,CAAA,mCAAAxD,EAAM,UAAS,CAAA,QAE1DA,EAAM,KAAK,EAAG,IACjB,CAAA,EAAYA,EAAM,UAAlBqC,EAA0D,OAA1DgC,GAAkD,GAAC,+DAMyB,SAAoCrE,EAAM,YAD1HoC,IAAAC,EAmBM,MAnBNiC,GAmBM,CAXJ/B,EAOE,QAAA,CANA,KAAK,OACL,MAAM,6KACL,YAAQb,EAAakC,EAAQ5D,EAAM,SAAS,EAC5C,SAAUA,EAAM,KAChB,SAAUA,EAAM,UAChB,OAAQA,EAAM,qCAA2C,oBAE5DuC,EAEI,IAFJgC,GACKzB,EAAA9C,EAAM,YAAS,eAAA,cAAA,eAAA,EAAA,CAAA,YAKtBqC,EAQE,QAAA,OANA,KAAK,OACL,MAAM,aACL,YAAarC,EAAM,sBAAwBA,EAAM,MAAM,YAAW,CAAA,4BAC1Db,EAAWa,EAAM,SAAS,EAAA4D,EAClC,SAAU5D,EAAM,KAChB,SAAUA,EAAM,2BAFRb,EAAWa,EAAM,SAAS,CAAA,IAO7BA,EAAM,aAAeA,EAAM,YAAS,SAD5CoC,EAAA,EAAAC,EAKI,IALJmC,GAIK1B,EAAA9C,EAAM,WAAW,EAAA,CAAA,iDAUlCuC,EAmDM,MAnDNkC,GAmDM,CAhDKjF,EAAK,OAWd4C,IAAAC,EAA0C,MAA1CqC,EAA0C,QAZ1CrC,EAWS,SAAA,OATP,KAAK,SACJ,QAAOR,EACP,SAAU3C,EAAO,MAClB,MAAM,iSAENqD,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAwN,OAAA,CAAlN,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,uJACpE,UAER,WAIAA,EAiCM,MAjCNoC,GAiCM,CA/BJpC,EAaS,SAAA,CAZP,KAAK,SACJ,SAAUrD,EAAO,MAClB,MAAM,kTAEKA,EAAO,OAAlBkD,EAAA,EAAAC,EAGM,MAHNuC,GAGMjC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAFJJ,EAAkG,SAAA,CAA1F,MAAM,aAAa,GAAG,KAAK,GAAG,KAAK,EAAE,KAAK,OAAO,eAAe,eAAa,cACrFA,EAAwK,OAAA,CAAlK,MAAM,aAAa,KAAK,eAAe,EAAE,iIAEjDH,EAAA,EAAAC,EAEM,MAFNwC,GAEMlC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CADJJ,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,+BACpEuC,EAAA,MACH5F,EAAO,MAAA,YAAA,MAAA,EAAA,CAAA,SAIZqD,EAcS,SAAA,CAbP,KAAK,SACJ,uBAAOP,EAAQ,GACf,SAAU9C,EAAO,MAClB,MAAM,8SAEKA,EAAO,OAAlBkD,EAAA,EAAAC,EAGM,MAHN0C,GAGMpC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAFJJ,EAAkG,SAAA,CAA1F,MAAM,aAAa,GAAG,KAAK,GAAG,KAAK,EAAE,KAAK,OAAO,eAAe,eAAa,cACrFA,EAAwK,OAAA,CAAlK,MAAM,aAAa,KAAK,eAAe,EAAE,iIAEjDH,EAAA,EAAAC,EAEM,MAFN2C,GAEMrC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CADJJ,EAAyF,OAAA,CAAnF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,+BACpE,IACNO,EAAG5D,EAAO,MAAA,YAAkBM,EAAK,MAAA,iBAAA,cAAA,EAAA,CAAA,sBAQ3C4C,EAAA,EAAAC,EAUM,MAVN4C,GAUMtC,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,irBAGNJ,EAmBU,UAnBV2C,GAmBU,eAlBR3C,EAGU,UAAA,CAHD,MAAM,sHAAoH,CACjIA,EAAkD,OAA5C,CAAA,MAAM,aAAa,EAAC,mBAAiB,EAC3CA,EAAmD,OAA7C,CAAA,MAAM,gBAAe,mBAAiB,QAE9CA,EAaM,MAbN4C,GAaM,CAZJ5C,EAGM,MAAA,KAAA,CAFJI,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAJ,EAA+E,KAA3E,CAAA,MAAM,mDAAmD,EAAC,eAAY,EAAA,GAC1EA,EAAiI,MAAjI6C,GAAiItC,EAAzC,KAAK,UAAU7D,EAAO,MAAA,KAAA,CAAA,CAAA,EAAA,CAAA,IAEhHsD,EAGM,MAAA,KAAA,CAFJI,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAJ,EAAkF,KAA9E,CAAA,MAAM,mDAAmD,EAAC,kBAAe,EAAA,GAC7EA,EAAmI,MAAnI8C,GAAmIvC,EAA3C,KAAK,UAAUzD,EAAS,MAAA,KAAA,CAAA,CAAA,EAAA,CAAA,IAElHkD,EAGM,MAAA,KAAA,CAFJI,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAJ,EAA8E,KAA1E,CAAA,MAAM,mDAAmD,EAAC,cAAW,EAAA,GACzEA,EAAoI,MAApI+C,GAAoIxC,EAA5C,KAAK,UAAU3D,EAAU,KAAA,CAAA,CAAA,EAAA,CAAA"}