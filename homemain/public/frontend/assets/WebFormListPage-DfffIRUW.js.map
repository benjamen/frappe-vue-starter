{"version":3,"file":"WebFormListPage-DfffIRUW.js","sources":["../../../../frontend/src/pages/WebFormListPage.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-7xl mx-auto p-4 space-y-6\">\n\n    <div\n      class=\"bg-white dark:bg-gray-900 shadow-lg rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\"\n    >\n      <!-- Header -->\n      <div\n        class=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4 px-6 py-6 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800\"\n      >\n        <div class=\"min-w-0 flex-1\">\n          <h1\n            class=\"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white truncate\"\n          >\n            {{ webForm?.list_title || webForm?.title || name }} List\n          </h1>\n          <p class=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\n            Manage your form submissions\n          </p>\n        </div>\n        <div class=\"flex items-center gap-3 flex-shrink-0\">\n          <!-- Bulk Delete Button (only show when items are selected) -->\n          <button\n            v-if=\"selectedRows.length > 0\"\n            @click=\"bulkDelete\"\n            :disabled=\"loading\"\n            class=\"inline-flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-semibold text-sm rounded-lg shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <svg\n              class=\"h-4 w-4\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16\"\n              />\n            </svg>\n            Delete ({{ selectedRows.length }})\n          </button>\n\n          <!-- Add New Button -->\n          <router-link\n            :to=\"`/form/${name}?new=1`\"\n            class=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold text-sm rounded-lg shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n          >\n            <svg\n              class=\"h-4 w-4\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M12 4v16m8-8H4\"\n              />\n            </svg>\n            <span class=\"hidden sm:inline\">Add New Entry</span>\n            <span class=\"inline sm:hidden\">Add</span>\n          </router-link>\n        </div>\n      </div>\n\n      <!-- Table Container -->\n      <div class=\"overflow-hidden\">\n        <div class=\"overflow-x-auto\">\n          <table\n            class=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\"\n          >\n            <thead class=\"bg-gray-50 dark:bg-gray-800\">\n              <tr>\n                <th scope=\"col\" class=\"w-12 px-6 py-3\">\n                  <input\n                    type=\"checkbox\"\n                    v-model=\"selectAll\"\n                    @change=\"toggleSelectAll\"\n                    class=\"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                    :disabled=\"!list?.data?.length\"\n                  />\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"w-16 px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\"\n                >\n                  #\n                </th>\n                <th\n                  v-for=\"field in listColumns\"\n                  :key=\"field.fieldname\"\n                  scope=\"col\"\n                  class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\"\n                >\n                  {{ field.label || field.fieldname }}\n                </th>\n                <th\n                  scope=\"col\"\n                  class=\"w-20 px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\"\n                >\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody\n              class=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\"\n            >\n              <tr\n                v-for=\"(doc, idx) in list?.data || []\"\n                :key=\"doc.name\"\n                class=\"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors\"\n                :class=\"{\n                  'bg-blue-50 dark:bg-blue-900/20': selectedRows.includes(\n                    doc.name\n                  ),\n                }\"\n              >\n                <td class=\"px-6 py-4\">\n                  <input\n                    type=\"checkbox\"\n                    :value=\"doc.name\"\n                    v-model=\"selectedRows\"\n                    @change=\"updateSelectAll\"\n                    class=\"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                  />\n                </td>\n                <td\n                  class=\"px-6 py-4 text-sm font-medium text-gray-900 dark:text-gray-100\"\n                >\n                  {{ idx + 1 }}\n                </td>\n                <td\n                  v-for=\"field in listColumns\"\n                  :key=\"field.fieldname\"\n                  class=\"px-6 py-4 text-sm text-gray-900 dark:text-gray-100\"\n                >\n                  <div class=\"max-w-xs\">\n                    <!-- Render by fieldtype -->\n                    <template v-if=\"field.fieldtype === 'Text Editor'\">\n                      <div\n                        class=\"ql-editor read-mode line-clamp-2\"\n                        v-html=\"doc[field.fieldname]\"\n                      ></div>\n                    </template>\n                    <template v-else-if=\"field.fieldtype === 'Date'\">\n                      <span class=\"truncate block\">{{\n                        formatDate(doc[field.fieldname])\n                      }}</span>\n                    </template>\n                    <template v-else>\n                      <span\n                        class=\"truncate block\"\n                        :title=\"doc[field.fieldname]\"\n                      >\n                        {{ doc[field.fieldname] }}\n                      </span>\n                    </template>\n                  </div>\n                </td>\n                <td class=\"px-6 py-4 text-right\">\n                  <div class=\"flex items-center justify-end gap-2\">\n                    <router-link\n                      :to=\"`/form/${name}?doc=${doc.name}`\"\n                      class=\"inline-flex items-center px-3 py-1 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/50 dark:hover:bg-blue-900 rounded-md transition-colors\"\n                    >\n                      Edit\n                    </router-link>\n                    <button\n                      @click=\"deleteRow(doc.name)\"\n                      :disabled=\"loading\"\n                      class=\"inline-flex items-center px-2 py-1 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 dark:bg-red-900/50 dark:hover:bg-red-900 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                      title=\"Delete this entry\"\n                    >\n                      <svg\n                        class=\"h-3 w-3\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path\n                          stroke-linecap=\"round\"\n                          stroke-linejoin=\"round\"\n                          stroke-width=\"2\"\n                          d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16\"\n                        />\n                      </svg>\n                    </button>\n                  </div>\n                </td>\n              </tr>\n              <tr v-if=\"!list?.data?.length\">\n                <td colspan=\"99\" class=\"px-6 py-12 text-center\">\n                  <div\n                    class=\"flex flex-col items-center justify-center space-y-3\"\n                  >\n                    <svg\n                      class=\"h-12 w-12 text-gray-400\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"1\"\n                        d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                      />\n                    </svg>\n                    <div>\n                      <p class=\"text-gray-500 dark:text-gray-400 font-medium\">\n                        No records found\n                      </p>\n                      <p class=\"text-gray-400 dark:text-gray-500 text-sm mt-1\">\n                        Get started by adding your first entry\n                      </p>\n                    </div>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      <!-- Pagination -->\n      <div\n        class=\"flex items-center justify-between px-6 py-4 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700\"\n      >\n        <div class=\"flex items-center gap-2\">\n          <Button\n            :disabled=\"!list?.hasPrev || list?.page <= 1\"\n            @click=\"list.prev()\"\n            class=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Previous\n          </Button>\n        </div>\n\n        <div class=\"flex items-center gap-4\">\n          <span class=\"text-sm text-gray-700 dark:text-gray-300\">\n            Page {{ list?.page || 1 }}\n          </span>\n          <div class=\"text-sm text-gray-500 dark:text-gray-400\">\n            {{ (list?.data || []).length }} entries\n          </div>\n        </div>\n\n        <div class=\"flex items-center gap-2\">\n          <Button\n            :disabled=\"!list?.hasNext\"\n            @click=\"list.next()\"\n            class=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Next\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Debug Section -->\n    <details class=\"bg-gray-50 dark:bg-gray-800 rounded-lg\">\n      <summary\n        class=\"cursor-pointer p-4 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors\"\n      >\n        <span class=\"font-medium\">Show raw webForm JSON</span>\n      </summary>\n      <div class=\"px-4 pb-4\">\n        <pre\n          class=\"bg-gray-900 text-gray-100 rounded-lg p-4 text-xs overflow-x-auto border\"\n          >{{ JSON.stringify(webForm, null, 2) }}</pre\n        >\n      </div>\n    </details>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { call, createListResource, Button } from \"frappe-ui\";\n\nconst route = useRoute();\nconst name = ref(route.params.name);\nconst webForm = ref(null);\nconst loading = ref(false);\nconst doctype = ref(\"\");\nconst listColumns = ref([]);\nconst selectedRows = ref([]);\nconst selectAll = ref(false);\n\nlet list = null;\n\nasync function fetchWebForm() {\n  loading.value = true;\n  webForm.value = null;\n  try {\n    const res = await call(\"frappe.client.get\", {\n      doctype: \"Web Form\",\n      name: name.value,\n    });\n    webForm.value = res?.message || res || null;\n\n    doctype.value = webForm.value?.doc_type;\n    // Always use the list_columns (with label, fieldtype etc)\n    listColumns.value =\n      webForm.value?.list_columns && webForm.value.list_columns.length\n        ? webForm.value.list_columns\n        : (webForm.value?.web_form_fields || [])\n            .filter(\n              (f) =>\n                !!f.fieldname &&\n                f.fieldtype !== \"Section Break\" &&\n                f.fieldtype !== \"Column Break\"\n            )\n            .map((f) => ({\n              fieldname: f.fieldname,\n              label: f.label,\n              fieldtype: f.fieldtype,\n            }));\n\n    setupList();\n  } catch (err) {\n    webForm.value = null;\n    console.error(\"[WebFormListPage] Error fetching webform:\", err);\n  }\n  loading.value = false;\n}\n\nfunction setupList() {\n  if (!doctype.value || listColumns.value.length === 0) return;\n  list = createListResource({\n    doctype: doctype.value,\n    fields: [\"name\", ...listColumns.value.map((c) => c.fieldname)],\n    orderBy: \"modified desc\",\n    pageLength: 10,\n  });\n  list.fetch();\n\n  // Clear selections when list changes\n  selectedRows.value = [];\n  selectAll.value = false;\n}\n\nfunction toggleSelectAll() {\n  if (selectAll.value) {\n    // Select all current page items\n    selectedRows.value = (list?.data || []).map((doc) => doc.name);\n  } else {\n    // Deselect all\n    selectedRows.value = [];\n  }\n}\n\nfunction updateSelectAll() {\n  const currentPageItems = (list?.data || []).map((doc) => doc.name);\n  const selectedCurrentPage = currentPageItems.filter((name) =>\n    selectedRows.value.includes(name)\n  );\n  selectAll.value =\n    currentPageItems.length > 0 &&\n    selectedCurrentPage.length === currentPageItems.length;\n}\n\nasync function deleteRow(docName) {\n  if (\n    !confirm(\n      \"Are you sure you want to delete this entry? This action cannot be undone.\"\n    )\n  ) {\n    return;\n  }\n\n  try {\n    loading.value = true;\n    await call(\"frappe.client.delete\", {\n      doctype: doctype.value,\n      name: docName,\n    });\n\n    // Show success message\n    showToast(\"Entry deleted successfully!\", \"success\");\n\n    // Remove from selected if it was selected\n    selectedRows.value = selectedRows.value.filter((name) => name !== docName);\n    updateSelectAll();\n\n    // Refresh the list\n    if (list && list.reload) {\n      await list.reload();\n    }\n  } catch (err) {\n    showToast(\"Failed to delete: \" + (err.message || err), \"error\");\n    console.error(\"[WebFormListPage] Error deleting entry:\", err);\n  } finally {\n    loading.value = false;\n  }\n}\n\nasync function bulkDelete() {\n  const count = selectedRows.value.length;\n  if (\n    !confirm(\n      `Are you sure you want to delete ${count} ${\n        count === 1 ? \"entry\" : \"entries\"\n      }? This action cannot be undone.`\n    )\n  ) {\n    return;\n  }\n\n  try {\n    loading.value = true;\n    const deletePromises = selectedRows.value.map((docName) =>\n      call(\"frappe.client.delete\", {\n        doctype: doctype.value,\n        name: docName,\n      })\n    );\n\n    await Promise.all(deletePromises);\n\n    // Show success message\n    showToast(\n      `${count} ${count === 1 ? \"entry\" : \"entries\"} deleted successfully!`,\n      \"success\"\n    );\n\n    // Clear selections\n    selectedRows.value = [];\n    selectAll.value = false;\n\n    // Refresh the list\n    if (list && list.reload) {\n      await list.reload();\n    }\n  } catch (err) {\n    showToast(\n      \"Failed to delete some entries: \" + (err.message || err),\n      \"error\"\n    );\n    console.error(\"[WebFormListPage] Error bulk deleting entries:\", err);\n  } finally {\n    loading.value = false;\n  }\n}\n\nfunction showToast(message, type = \"info\") {\n  const toastDiv = document.createElement(\"div\");\n  const bgColor =\n    type === \"success\"\n      ? \"bg-green-500\"\n      : type === \"error\"\n      ? \"bg-red-500\"\n      : \"bg-blue-500\";\n  toastDiv.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 max-w-sm`;\n  toastDiv.textContent = message;\n  document.body.appendChild(toastDiv);\n  setTimeout(() => toastDiv.remove(), 4000);\n}\n\nfunction getStatusClass(status) {\n  if (!status)\n    return \"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300\";\n\n  const statusLower = status.toString().toLowerCase();\n\n  // Success/Positive statuses\n  if (\n    [\n      \"active\",\n      \"approved\",\n      \"completed\",\n      \"success\",\n      \"done\",\n      \"finished\",\n      \"published\",\n      \"enabled\",\n      \"confirmed\",\n      \"verified\",\n      \"accepted\",\n    ].includes(statusLower)\n  ) {\n    return \"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400\";\n  }\n\n  // Warning/In Progress statuses\n  if (\n    [\n      \"pending\",\n      \"in progress\",\n      \"processing\",\n      \"review\",\n      \"waiting\",\n      \"partial\",\n      \"draft\",\n      \"submitted\",\n      \"open\",\n    ].includes(statusLower)\n  ) {\n    return \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400\";\n  }\n\n  // Error/Negative statuses\n  if (\n    [\n      \"cancelled\",\n      \"rejected\",\n      \"failed\",\n      \"error\",\n      \"disabled\",\n      \"inactive\",\n      \"closed\",\n      \"expired\",\n      \"blocked\",\n      \"suspended\",\n    ].includes(statusLower)\n  ) {\n    return \"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400\";\n  }\n\n  // Info/Neutral statuses\n  if (\n    [\"new\", \"created\", \"scheduled\", \"paused\", \"hold\", \"on hold\"].includes(\n      statusLower\n    )\n  ) {\n    return \"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400\";\n  }\n\n  // Default gray for unknown statuses\n  return \"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300\";\n}\n\nfunction formatDate(val) {\n  if (!val) return \"\";\n  if (val.length === 10 && val.includes(\"-\")) {\n    return val.split(\"-\").reverse().join(\"/\");\n  }\n  const date = new Date(val);\n  if (isNaN(date)) return val;\n  return date.toLocaleDateString();\n}\n\nonMounted(fetchWebForm);\nwatch(\n  () => route.params.name,\n  (n) => {\n    name.value = n;\n    fetchWebForm();\n  }\n);\n</script>\n\n<style scoped>\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.ql-editor.read-mode {\n  padding: 0;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  min-height: unset;\n  background: transparent;\n  border: none;\n  box-shadow: none;\n}\n\n.ql-editor.read-mode * {\n  margin: 0;\n  padding: 0;\n}\n</style>\n"],"names":["route","useRoute","name","ref","webForm","loading","doctype","listColumns","selectedRows","selectAll","list","fetchWebForm","res","call","f","setupList","err","createListResource","c","toggleSelectAll","doc","updateSelectAll","currentPageItems","selectedCurrentPage","deleteRow","docName","showToast","bulkDelete","count","deletePromises","message","type","toastDiv","bgColor","formatDate","val","date","onMounted","watch","n","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_cache","_hoisted_6","_createTextVNode","_createVNode","_component_router_link","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","$event","_unref","_Fragment","_renderList","field","_hoisted_14","idx","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_27","Button","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34"],"mappings":"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"}