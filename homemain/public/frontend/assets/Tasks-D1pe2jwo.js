import{p as F,x as k,o as i,b as d,n as y,y as T,i as _,f as b,t as p,V as U,r as h,d as t,v as A,H as C,W as L,I as M,e as g,w as c,u as r,q as v,F as E,k as R,z as j}from"./index-CBDyEeFS.js";const q=F({__name:"Badge",props:{theme:{default:"gray"},size:{default:"md"},variant:{default:"subtle"},label:{}},setup($){const s=$,f=k(()=>{let u={gray:"text-ink-white bg-surface-gray-7",blue:"text-ink-blue-1 bg-surface-blue-2",green:"text-ink-green-1 bg-surface-green-3",orange:"text-ink-amber-1 bg-surface-amber-2",red:"text-ink-red-1 bg-surface-red-4"}[s.theme],n={gray:"text-ink-gray-6 bg-surface-gray-2",blue:"text-ink-blue-2 bg-surface-blue-1",green:"text-ink-green-3 bg-surface-green-2",orange:"text-ink-amber-3 bg-surface-amber-1",red:"text-ink-red-4 bg-surface-red-1"}[s.theme],m={gray:"text-ink-gray-6 bg-transparent border border-outline-gray-1",blue:"text-ink-blue-2 bg-transparent border border-outline-blue-1",green:"text-ink-green-3 bg-transparent border border-outline-green-2",orange:"text-ink-amber-3 bg-transparent border border-outline-amber-2",red:"text-ink-red-4 bg-transparent border border-outline-red-2"}[s.theme],l={gray:"text-ink-gray-6 bg-transparent",blue:"text-ink-blue-2 bg-transparent",green:"text-ink-green-3 bg-transparent",orange:"text-ink-amber-3 bg-transparent",red:"text-ink-red-4 bg-transparent"}[s.theme],w={subtle:n,solid:u,outline:m,ghost:l}[s.variant],z={sm:"h-4 text-xs px-1.5",md:"h-5 text-xs px-1.5",lg:"h-6 text-sm px-2"}[s.size];return[w,z]});return(u,n)=>(i(),d("div",{class:y(["inline-flex select-none items-center gap-1 rounded-full",f.value])},[u.$slots.prefix?(i(),d("div",{key:0,class:y([s.size=="lg"?"max-h-6":"max-h-4"])},[T(u.$slots,"prefix")],2)):_("",!0),T(u.$slots,"default",{},()=>[b(p(s.label?.toString()),1)]),u.$slots.suffix?(i(),d("div",{key:1,class:y([s.size=="lg"?"max-h-6":"max-h-4"])},[T(u.$slots,"suffix")],2)):_("",!0)],2))}}),I={class:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 p-4"},W={class:"max-w-4xl mx-auto"},G={class:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-6 mb-8 hover:shadow-2xl transition-all duration-300"},J={class:"flex-1 relative group"},K={class:"flex gap-2 mb-6 justify-center"},P={key:0,class:"flex justify-center items-center py-12"},Q={key:1,class:"grid gap-4 mb-8"},X={key:0,class:"space-y-4"},Y={class:"flex flex-col sm:flex-row gap-4"},Z={class:"flex-1 relative"},ee={class:"flex gap-2 justify-end"},te={key:1,class:"flex items-center justify-between gap-4"},se={class:"flex-1 flex items-center gap-3"},ae={class:"flex items-center gap-2"},re={key:2,class:"text-center py-16"},oe={class:"text-xl font-semibold text-gray-600 mb-2"},ne={class:"text-gray-500"},le={key:3,class:"text-center mb-8"},ie={key:4,class:"text-center"},de={class:"inline-flex items-center gap-6 px-6 py-3 bg-white/50 backdrop-blur-sm rounded-full border border-white/20"},ue={class:"flex items-center gap-2"},ge={class:"text-sm font-medium text-gray-600"},ce={class:"flex items-center gap-2"},pe={class:"text-sm font-medium text-gray-600"},be={__name:"Tasks",setup($){const s=U({doctype:"ToDo",fields:["name","description","status"],orderBy:"creation desc",start:0,pageLength:5}),f=h(""),u=h("Open"),n=h("all"),m=h(null),l=h(null),w=k(()=>s.data?n.value==="all"?s.data:s.data.filter(o=>o.status===n.value):[]),z=k(()=>s.data?s.data.length:0),O=k(()=>s.data?s.data.filter(o=>o.status==="Open").length:0),V=k(()=>s.data?s.data.filter(o=>o.status==="Closed").length:0);async function B(){if(f.value.trim())try{await s.insert.submit({description:f.value.trim(),status:u.value}),f.value="",u.value="Open",await s.fetch()}catch(o){console.error("Failed to add task:",o)}}function S(o){m.value=o.name,l.value=j({doctype:"ToDo",name:o.name})}async function D(){if(!(!l.value||!l.value.doc.description.trim()))try{await l.value.setValue.submit({description:l.value.doc.description.trim(),status:l.value.doc.status}),m.value=null,l.value=null,await s.fetch()}catch(o){console.error("Failed to save task:",o)}}function N(){m.value=null,l.value=null}async function H(o){if(confirm(`Are you sure you want to delete "${o.description}"?`))try{await j({doctype:"ToDo",name:o.name}).delete.submit(),await s.fetch()}catch(e){console.error("Failed to delete task:",e)}}return s.fetch(),(o,e)=>(i(),d("div",I,[t("div",W,[e[22]||(e[22]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2"}," Task Manager "),t("p",{class:"text-gray-600"},"Stay organized and productive")],-1)),t("div",G,[t("form",{onSubmit:A(B,["prevent"]),class:"flex flex-col sm:flex-row gap-4"},[t("div",J,[C(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>f.value=a),placeholder:"What needs to be done?",class:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200 bg-white/50 backdrop-blur-sm group-hover:border-indigo-300",required:""},null,512),[[L,f.value]]),e[8]||(e[8]=t("div",{class:"absolute inset-y-0 right-3 flex items-center pointer-events-none"},[t("svg",{class:"w-5 h-5 text-gray-400 group-focus-within:text-indigo-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1))]),C(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a),class:"px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all duration-200 bg-white/50 backdrop-blur-sm hover:border-indigo-300"},e[9]||(e[9]=[t("option",{value:"Open"},"📋 Open",-1),t("option",{value:"Closed"},"✅ Closed",-1)]),512),[[M,u.value]]),g(r(v),{type:"submit",variant:"solid",class:"!bg-gradient-to-r !from-indigo-600 !to-purple-600 !text-white hover:!from-indigo-700 hover:!to-purple-700 !shadow-lg hover:!shadow-xl transform hover:scale-105 transition-all duration-200"},{default:c(()=>e[10]||(e[10]=[b(" Add Task ")])),_:1,__:[10]})],32)]),t("div",K,[g(r(v),{onClick:e[2]||(e[2]=a=>n.value="all"),variant:n.value==="all"?"solid":"outline",size:"sm",class:"transition-all duration-200"},{default:c(()=>[b(" All Tasks ("+p(z.value)+") ",1)]),_:1},8,["variant"]),g(r(v),{onClick:e[3]||(e[3]=a=>n.value="Open"),variant:n.value==="Open"?"solid":"outline",size:"sm",class:"transition-all duration-200"},{default:c(()=>[b(" 📋 Open ("+p(O.value)+") ",1)]),_:1},8,["variant"]),g(r(v),{onClick:e[4]||(e[4]=a=>n.value="Closed"),variant:n.value==="Closed"?"solid":"outline",size:"sm",class:"transition-all duration-200"},{default:c(()=>[b(" ✅ Closed ("+p(V.value)+") ",1)]),_:1},8,["variant"])]),r(s).data?w.value.length>0?(i(),d("div",Q,[(i(!0),d(E,null,R(w.value,a=>(i(),d("div",{key:a.name,class:"group bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6 hover:shadow-xl hover:scale-[1.02] transition-all duration-300"},[m.value===a.name&&l.value?(i(),d("div",X,[t("div",Y,[t("div",Z,[C(t("input",{"onUpdate:modelValue":e[5]||(e[5]=x=>l.value.doc.description=x),class:"w-full px-4 py-3 rounded-xl border-2 border-orange-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition-all duration-200 bg-orange-50",placeholder:"Update task description..."},null,512),[[L,l.value.doc.description]])]),C(t("select",{"onUpdate:modelValue":e[6]||(e[6]=x=>l.value.doc.status=x),class:"px-4 py-3 rounded-xl border-2 border-orange-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition-all duration-200 bg-orange-50"},e[12]||(e[12]=[t("option",{value:"Open"},"📋 Open",-1),t("option",{value:"Closed"},"✅ Closed",-1)]),512),[[M,l.value.doc.status]])]),t("div",ee,[g(r(v),{onClick:D,variant:"solid",size:"sm",class:"!bg-green-600 !text-white hover:!bg-green-700"},{default:c(()=>e[13]||(e[13]=[b(" 💾 Save ")])),_:1,__:[13]}),g(r(v),{onClick:N,variant:"outline",size:"sm"},{default:c(()=>e[14]||(e[14]=[b(" ❌ Cancel ")])),_:1,__:[14]})])])):(i(),d("div",te,[t("div",se,[t("div",{class:y(["w-2 h-2 rounded-full",a.status==="Open"?"bg-orange-400 animate-pulse":"bg-green-400"])},null,2),t("span",{class:y(["text-gray-800 font-medium text-lg",a.status==="Closed"?"line-through text-gray-500":""])},p(a.description),3)]),t("div",ae,[g(r(q),{variant:a.status==="Open"?"warning":"success",class:"transition-all duration-200"},{default:c(()=>[b(p(a.status==="Open"?"📋 Open":"✅ Closed"),1)]),_:2},1032,["variant"]),g(r(v),{onClick:x=>S(a),variant:"ghost",size:"sm",class:"opacity-0 group-hover:opacity-100 transition-all duration-200 hover:!bg-blue-50 !text-blue-600"},{default:c(()=>e[15]||(e[15]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2,__:[15]},1032,["onClick"]),g(r(v),{onClick:x=>H(a),variant:"ghost",size:"sm",class:"opacity-0 group-hover:opacity-100 transition-all duration-200 hover:!bg-red-50 !text-red-600"},{default:c(()=>e[16]||(e[16]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])),_:2,__:[16]},1032,["onClick"])])]))]))),128))])):(i(),d("div",re,[e[17]||(e[17]=t("div",{class:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-12 h-12 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("h3",oe,p(n.value==="all"?"No tasks yet":`No ${n.value.toLowerCase()} tasks`),1),t("p",ne,p(n.value==="all"?"Create your first task to get started!":`No tasks with ${n.value.toLowerCase()} status found.`),1)])):(i(),d("div",P,e[11]||(e[11]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-4 border-indigo-200 border-t-indigo-600"},null,-1),t("span",{class:"ml-3 text-gray-600 font-medium"},"Loading your tasks...",-1)]))),r(s).data&&r(s).data.length>=r(s).pageLength?(i(),d("div",le,[g(r(v),{onClick:e[7]||(e[7]=a=>r(s).next()),variant:"outline",class:"!border-2 !border-gray-200 hover:!border-indigo-300 hover:!text-indigo-600 transform hover:scale-105 transition-all duration-200"},{default:c(()=>e[18]||(e[18]=[b(" Load More Tasks → ")])),_:1,__:[18]})])):_("",!0),r(s).data&&r(s).data.length>0?(i(),d("div",ie,[t("div",de,[t("div",ue,[e[19]||(e[19]=t("div",{class:"w-3 h-3 bg-orange-400 rounded-full animate-pulse"},null,-1)),t("span",ge,p(O.value)+" Open ",1)]),e[21]||(e[21]=t("div",{class:"w-px h-4 bg-gray-300"},null,-1)),t("div",ce,[e[20]||(e[20]=t("div",{class:"w-3 h-3 bg-green-400 rounded-full"},null,-1)),t("span",pe,p(V.value)+" Completed ",1)])])])):_("",!0)])]))}};export{be as default};
//# sourceMappingURL=Tasks-D1pe2jwo.js.map
